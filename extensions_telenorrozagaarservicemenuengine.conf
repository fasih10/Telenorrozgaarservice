[default]


exten => 778               89,1,Noop(Noting......)
same => n,Set(__DB_CLI=${CALLERID(num)})
same => n,Set(__AGI_SERVER=agi://127.0.0.1:1234)
same => n,Verbose(${DB_CLI})
same => n,AGI(${AGI_SERVER}/Checksubscription.agi)
same => n,AGI(${AGI_SERVER}/Content.agi)
same => n,AGI(${AGI_SERVER}/CheckBookmark.agi)
exten => 77889,n,Goto(TELENOR_ROZGARSERVICE_INIT,s,1)


[TELENOR_ROZGARSERVICE_INIT]
exten => s,1,Set(PROMPTS=/home/TelenorRozgaarService)
same => n,Set(PROFESSION=NULL)
same => n,Set(OPTION=Null)
same => n,Set(LANGOPT=0)
same => n,Set(AGE=NULL)
same => n,Set(GENDER=NULL)
same => n,Set(LOCATION=NULL)
same => n,Set(JOBEXPERIENCE=NULL)
same => n,Set(JOBWORKPLACE=NULL)
exten => s,n,Goto(TELENOR_ROZGARSERVICE_START,s,1)

[TELENOR_ROZGARSERVICE_START]
exten => s,1,Answer()
same => n,Goto(TELENOR_ROZGARSERVICE_WELCOME,s,1)
same => n,Background(${PROMPTS}/subscribe)
same => n,WaitExten()

exten => _X,1,GotoIf($[${EXTEN}>2]?Goto(TELENOR_ROZGARSERVICE_START,s,1))
same => n,ExecIf($[${EXTEN}=1]?Goto(TELENOR_ROZGARSERVICE_WELCOME,s,1))
same => n,ExecIf($[${EXTEN}=2]?Hangup())


exten => i,1,Background(pbc-invalid)


[TELENOR_ROZGARSERVICE_WELCOME]
exten => s,1,Background(${PROMPTS}/welcome)


exten => s,n,Goto(TELENOR_ROZGARSERVICE_MAIN_MENU,s,1)



[TELENOR_ROZGARSERVICE_UNSUB]

exten => s,1,playback(${PROMPTS}/confrm)
same => n,WaitExten()
exten => _X,1,GotoIf($[${EXTEN}>2]?s,1)
same => n,ExecIf($[${EXTEN}=1]?Goto(77889,1))
same => n,ExecIf($[${EXTEN}=2]?Hangup())


exten => 77889,1,Noop(Noting......)
same => n,Set(__DB_CLI=${CALLERID(num)})
same => n,Set(__AGI_SERVER=agi://127.0.0.1:1234)
same => n,Verbose(${DB_CLI})
same => n,AGI(${AGI_SERVER}/UnSub.agi)
same => n,playback(${PROMPTS}/unsub)





[TELENOR_ROZGARSERVICE_MAIN_MENU]

exten => s,1,Background(${PROMPTS}/profilenew)
exten => s,n,WaitExten()
exten => _X,1,GotoIf($[${EXTEN}>1]?TELENOR_ROZGARSERVICE_WELCOME,s,1)
same => n,ExecIf($[${EXTEN}=1]?Goto(TELENOR_ROZGARSERVICE_LANGUAGES,l,1)
same => n,ExecIf($[${EXTEN}=0]?Hangup())


[TELENOR_ROZGARSERVICE_LANGUAGES]

exten => l,1,Background(${PROMPTS}/language)
same => n,WaitExten()
exten => _X,1,GotoIf($[${EXTEN}>4]?Goto(TELENOR-ROZGARSERVICE_MAIN MENU,s,1))
same => n,ExecIf($[${EXTEN}=1]?Goto(l1,1))
same => n,ExecIf($[${EXTEN}=2]?Goto(l2,1))
same => n,ExecIf($[${EXTEN}=3]?Goto(l3,1))
same => n,ExecIf($[${EXTEN}=4]?Goto(l4,1))
same => n,ExecIf($[${EXTEN}=0]?Goto(TELENOR-ROZGARSERVICE_MAIN MENU,s,1))

exten => l1,1,Set(PROMPTSLANG=${PROMPTS}/URDU)
same => n,Goto(TELENOR_ROZGARSERVICE_PROFESSION,s,1)

exten => l2,1,Set(PROMPTSLANG=${PROMPTS}/PUSHTO)
same => n,Goto(TELENOR_ROZGARSERVICE_PROFESSION,s,1)

exten => l3,1,Set(PROMPTSLANG=${PROMPTS}/SARIKI)
same => n,Goto(TELENOR_ROZGARSERVICE_PROFESSION,s,1)

exten => l4,1,Set(PROMPTSLANG=${PROMPTS}/SINDHI)
same => n,Goto(TELENOR_ROZGARSERVICE_PROFESSION,s,1)

[TELENOR_ROZGARSERVICE_PROFESSION]

exten => s,1,Set(OPTION=Profession)
exten => s,n,Set(MENU_TYPE=1)
same => n,Set(MAX_SEG=8)
;exten => s,n,Set(__SEG_ID=2)
same => n,AGI(${AGI_SERVER}/getMenu.agi)


;same => n,Background(${PROMPTSLANG}/profession)

exten => s,n(start),Set(COUNTER=1)
exten => s,n(menu),BackGround(${PROMPTSLANG}/${MENU_SEG_${COUNTER}})
exten => s,n,Set(COUNTER=$[${COUNTER}+1])
exten => s,n,ExecIf($[${COUNTER}>${MENU_SEG_COUNT}]?Goto(s,wait):Goto(s,menu))
same => n(wait),WaitExten()

exten => _X,1,GotoIf($[${EXTEN}>${MENU_SEG_COUNT}]?TELENOR_ROZGARSERVICE_PROFESSION,s,1)
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=1]?Goto(p1,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=2]?Goto(p2,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=3]?Goto(p3,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=4]?Goto(p4,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=5]?Goto(p5,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=6]?Goto(p6,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=7]?Goto(p7,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=8]?Goto(p8,1))
same => n,ExecIf($[${EXTEN}=0]?Goto(TELENOR_ROZGARSERVICE_MAIN_MENU,s,1))

exten => p1,1,Set(PROFESSION=SecurityGuard)
same => n,Background(${PROMPTSLANG}/security)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => p2,1,Set(PROFESSION=OfficeBoy)
same => n,Background(${PROMPTSLANG}/officeboy)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => p3,1,Set(PROFESSION=HomeServant)
same => n,Background(${PROMPTSLANG}/homeservant)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => p4,1,Set(PROFESSION=BabySitter)
same => n,Background(${PROMPTSLANG}/babysitter)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)


exten => p5,1,Set(PROFESSION=Cook)
same => n,Background(${PROMPTSLANG}/cook)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => p6,1,Set(PROFESSION=Driver)
same => n,Background(${PROMPTSLANG}/driver)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => p7,1,Set(PROFESSION=Plumber)
same => n,Background(${PROMPTSLANG}/plumber)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => p8,1,Set(PROFESSION=Electrician)
same => n,Background(${PROMPTSLANG}/electrician)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)



[TELENOR_ROZGARSERVICE_JOB EXPERIENCE]

exten => j,1,Set(OPTION=JobExperience)
exten => j,n,Set(MENU_TYPE=2)
same => n,Set(MAX_SEG=5)

same => n,AGI(${AGI_SERVER}/getMenu.agi)

exten => j,n(start),Set(COUNTER=1)
exten => j,n(menu),BackGround(${PROMPTSLANG}/${MENU_SEG_${COUNTER}})
exten => j,n,Set(COUNTER=$[${COUNTER}+1])
exten => j,n,ExecIf($[${COUNTER}>${MENU_SEG_COUNT}]?Goto(j,wait):Goto(j,menu))
same => n(wait),WaitExten()


exten => _X,1,GotoIf($[${EXTEN}>${MENU_SEG_COUNT}]?TELENOR_ROZGARSERVICE_JOB EPERIENCE,j,1)
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=9]?Goto(j1,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=10]?Goto(j2,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=11]?Goto(j3,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=12]?Goto(j4,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=13]?Goto(j5,1))
same => n,ExecIf($[${EXTEN}=0]?Goto(TELENOR_ROZGARSERVICE_MAIN_MENU,s,1))

exten => j1,1,Set(JOBEXPERIENCE=NOExperience)
same => n,Background(${PROMPTSLANG}/noexperience)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => j2,1,Set(JOBEXPERIENCE=LessThan1Year)
same => n,Background(${PROMPTSLANG}/lessthan1year)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)


exten => j3,1,Set(JOBEXPERIENCE=1-3Years)
same => n,Background(${PROMPTSLANG}/1-3years)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => j4,1,Set(JOBEXPERIENCE=4-6Years)
same => n,Background(${PROMPTSLANG}/4-6years)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => j5,1,Set(JOBEXPERIENCE=MoreThan7Years)
same => n,Background(${PROMPTSLANG}/morethan7years)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)



[TELENOR_ROZGARSERVICE_LOCATION]

exten => l,1,Set(OPTION=Location)

exten => l,n,Set(MENU_TYPE=4)
same => n,Set(MAX_SEG=7)

same => n,AGI(${AGI_SERVER}/getMenu.agi)

exten => l,n(start),Set(COUNTER=1)
exten => l,n(menu),BackGround(${PROMPTSLANG}/${MENU_SEG_${COUNTER}})
exten => l,n,Set(COUNTER=$[${COUNTER}+1])
exten => l,n,ExecIf($[${COUNTER}>${MENU_SEG_COUNT}]?Goto(l,wait):Goto(l,menu))
same => n(wait),WaitExten()

exten => _X,1,GotoIf($[${EXTEN}>${MENU_SEG_COUNT}]?TELENOR_ROZGARSERVICE_LOCATION,l,1)
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=16]?Goto(j1,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=17]?Goto(j2,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=18]?Goto(j3,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=19]?Goto(j4,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=20]?Goto(j5,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=21]?Goto(j6,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=22]?Goto(j7,1))
same => n,ExecIf($[${EXTEN}=0]?Goto(TELENOR_ROZGARSERVICE_MAIN_MENU,s,1))

exten => j1,1,Set(JOBWORKPLACE=IslamabadRawalpindi)
same => n,Background(${PROMPTSLANG}/IslamabadRawalpindi)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => j2,1,Set(JOBWORKPLACE=Lahore)
same => n,Background(${PROMPTSLANG}/Lahore)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => j3,1,Set(JOBWORKPLACE=Karachi)
same => n,Background(${PROMPTSLANG}/Karachi)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => j4,1,Set(JOBWORKPLACE=Peshawar)
same => n,Background(${PROMPTSLANG}/Peshawar)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => j5,1,Set(JOBWORKPLACE=ElsewhereInPunjab)
same => n,Background(${PROMPTSLANG}/Elsewhereinpunjab)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => j6,1,Set(JOBWORKPLACE=ElsewhereInSindh)
same => n,Background(${PROMPTSLANG}/Elsewhereinsindh)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => j7,1,Set(JOBWORKPLACE=ElsewhereInKPK)
same => n,Background(${PROMPTSLANG}/Elsewhereinkpk)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)



[TELENOR_ROZGARSERVICE_AGE]

exten => a,1,Set(OPTION=Age)

exten => a,n,Set(MENU_TYPE=5)
same => n,Set(MAX_SEG=5)

same => n,AGI(${AGI_SERVER}/getMenu.agi)

exten => a,n(start),Set(COUNTER=1)
exten => a,n(menu),BackGround(${PROMPTSLANG}/${MENU_SEG_${COUNTER}})
exten => a,n,Set(COUNTER=$[${COUNTER}+1])
exten => a,n,ExecIf($[${COUNTER}>${MENU_SEG_COUNT}]?Goto(a,wait):Goto(a,menu))
same => n(wait),WaitExten()
exten => _X,1,GotoIf($[${EXTEN}>${MENU_SEG_COUNT}]?TELENOR_ROZGARSERVICE_AGE,a,1)
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=23]?Goto(j1,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=24]?Goto(j2,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=25]?Goto(j3,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=26]?Goto(j4,1))
same => n,ExecIf($[${MENU_SEG_TYPE_${EXTEN}}=27]?Goto(j5,1))
same => n,ExecIf($[${EXTEN}=0]?Goto(TELENOR_ROZGARSERVICE_MAIN_MENU,s,1))

exten => j1,1,Set(AGE=18-25)
same => n,Background(${PROMPTSLANG}/18-25)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)


exten => j2,1,Set(AGE=26-30)
same => n,Background(${PROMPTSLANG}/26-30)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => j3,1,Set(AGE=31-40)
same => n,Background(${PROMPTSLANG}/31-40)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => j4,1,Set(AGE=41-50)
same => n,Background(${PROMPTSLANG}/41-50)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => j5,1,Set(AGE=51-60)
same => n,Background(${PROMPTSLANG}/51-60)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)


[TELENOR_ROZGARSERVICE_GENDER]

exten => g,1,Set(OPTION=Gender)
exten => g,n,Set(MENU_TYPE=3)
same => n,Set(MAX_SEG=2)

same => n,AGI(${AGI_SERVER}/getMenu.agi)

exten => g,n(start),Set(COUNTER=1)
exten => g,n(menu),BackGround(${PROMPTSLANG}/${MENU_SEG_${COUNTER}})
exten => g,n,Set(COUNTER=$[${COUNTER}+1])
exten => g,n,ExecIf($[${COUNTER}>${MENU_SEG_COUNT}]?Goto(g,wait):Goto(g,menu))
same => n(wait),WaitExten()

exten => _X,1,GotoIf($[${EXTEN}>${MENU_SEG_COUNT}]?TELENOR_ROZGARSERVICE_GENDER,g,1)
same => n,ExecIf(${MENU_SEG_TYPE_${EXTEN}}=14]?Goto(j1,1))
same => n,ExecIf(${MENU_SEG_TYPE_${EXTEN}}=15]?Goto(j2,1))
same => n,ExecIf($[${EXTEN}=0]?Goto(TELENOR_ROZGARSERVICE_MAIN_MENU,s,1))

exten => j1,1,Set(GENDER=male)
same => n,Background(${PROMPTSLANG}/male)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)

exten => j2,1,Set(GENDER=female)
same => n,Background(${PROMPTSLANG}/female)
same => n,Goto(TELENOR_ROZGARSERVICE_CONFRM,c,1)


[TELENOR_ROZGARSERVICE_CONFRM]

exten => c,1,Background(${PROMPTSLANG}/confrm)
same => n,WaitExten()

exten => _X,1,GotoIf($[${EXTEN}>2]?c,1)

same => n,ExecIf($[${EXTEN}=1&${OPTION}=Profession]?Goto(TELENOR_ROZGARSERVICE_JOB EXPERIENCE,j,1))
same => n,ExecIf($[${EXTEN}=1&${OPTION}=JobExperience]?Goto(TELENOR_ROZGARSERVICE_LOCATION,l,1))
same => n,ExecIf($[${EXTEN}=1&${OPTION}=Location]?Goto(TELENOR_ROZGARSERVICE_AGE,a,1))
same => n,ExecIf($[${EXTEN}=1&${OPTION}=Age]?Goto(TELENOR_ROZGARSERVICE_GENDER,g,1))
same => n,ExecIf($[${EXTEN}=1&${OPTION}=Gender]?Goto(TELENOR_ROZGARSERVICE_THANK YOU,t,1))

same => n,ExecIf($[${EXTEN}=2&${OPTION}=Profession]?Goto(TELENOR_ROZGARSERVICE_PROFESSION,s,1))
same => n,ExecIf($[${EXTEN}=2&${OPTION}=JobExperience]?Goto(TELENOR_ROZGARSERVICE_JOB EXPERIENCE,j,1))
same => n,ExecIf($[${EXTEN}=2&${OPTION}=Location]?Goto(TELENOR_ROZGARSERVICE_LOCATION,l,1))
same => n,ExecIf($[${EXTEN}=2&${OPTION}=Age]?Goto(TELENOR_ROZGARSERVICE_AGE,a,1))
same => n,ExecIf($[${EXTEN}=2&${OPTION}=Gender]?Goto(TELENOR_ROZGARSERVICE_GENDER,g,1))


[TELENOR_ROZGARSERVICE_THANK YOU]

exten => t,1,Background(${PROMPTSLANG}/thankyou)
same => n,Goto(TELENOR_ROZGARSERVICE_CONNECTION,77889,1)

[TELENOR_ROZGARSERVICE_CONNECTION]

exten => 77889,1,Noop(Noting......)
same => n,Set(__DB_CLI=${CALLERID(num)})
same => n,Set(__AGI_SERVER=agi://127.0.0.1:1234)
same => n,Verbose(${DB_CLI})
same => n,Verbose(${PROFESSION})
same => n,Verbose(${JOBEXPERIENCE})
same => n,Verbose(${JOBWORKPLACE})
same => n,Verbose(${AGE})
same => n,Verbose(${GENDER})
same => n,Verbose(${COUNT})
same => n,AGI(${AGI_SERVER}/MainMenu.agi)
same => n,Hangup()



